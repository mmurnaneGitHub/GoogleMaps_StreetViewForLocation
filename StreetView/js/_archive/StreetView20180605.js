var panorama;var addLatLng;var showPanoData;var panorama;var map;var myLat=47.255938;var myLon=-122.441586;function initialize(){if(window.location!=null&&window.location.search.length>1){var _1=window.location.search.substring(1);var _2=_1.split("&");var _3={};for(var i=0,_4=_2.length;i<_4;i++){var _5=_2[i].split("=");_3[_5[0]]=_5[1];}myLat=_3.lat;myLon=_3.lon;}addLatLng=new google.maps.LatLng(myLat,myLon);var _6=new google.maps.StreetViewService();_6.getPanorama({location:addLatLng,preference:"nearest",radius:50,source:"outdoor"},showPanoData);};function showPanoData(_7,_8){if(_8!=google.maps.StreetViewStatus.OK){alert("Sorry, Street View data not found for this location.");return;}var _9=computeAngle(addLatLng,_7.location.latLng);var _a=new google.maps.StreetViewPanorama(document.getElementById("pano"),{position:addLatLng,pov:{heading:_9,pitch:10},imageDateControl:true});map=new google.maps.Map(document.getElementById("map"),{center:addLatLng,zoom:16});map.setStreetView(_a);};function computeAngle(_b,_c){var _d=57.2957795;var _e=0.017453;var _f=_b.lat()-_c.lat();var _10=_b.lng()-_c.lng();var yaw=Math.atan2(_10*Math.cos(_b.lat()*_e),_f)*_d;return wrapAngle(yaw);};function wrapAngle(_11){if(_11>=360){_11-=360;}else{if(_11<0){_11+=360;}}return _11;};window.onresize=function(){initialize();};